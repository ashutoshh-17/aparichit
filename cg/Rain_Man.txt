#include<iostream>
#include<graphics.h>
using namespace std;

int main() {
    int mx, my, gd, gm, i, j;
    gd = DETECT;
    initgraph(&gd, &gm, NULL);
    mx = getmaxx();
    my = getmaxy();

    for (i = 0; i <= 376; i = i + 5) {
        line(0, 420, 600, 420); // Base line
        line(100 + i, 215, 100 + i, 365); // Body line
        line(100 + i, 240, 175 + i, 300); // Front hand
        // line(100+i,240,25+i,300); // Back hand
        // line(100+i,365,25+i,420); // Leg 1
        // line(100+i,365,175+i,420); // Leg 2
        circle(100 + i, 185, 30); // Face
        line(175 + i, 300, 175 + i, 150); // Umbrella vertical line
        line(15 + i, 150, 265 + i, 150); // Umbrella base line
        arc(140 + i, 150, 0, 180, 125); // Umbrella (Changed starting angle to 0)

        if (i % 2) {
            line(100 + i, 240, 25 + i, 300); // Back hand
            line(100 + i, 365, 25 + i, 420); // Leg 1
            line(100 + i, 365, 175 + i, 420); // Leg 2
            delay(100);
        } else {
            line(100 + i, 240, 125 + i, 300); // Back hand
            line(100 + i, 365, 150 + i, 420); // Leg 1
            line(100 + i, 365, 50 + i, 420); // Leg 2
        }
        for (j = 0; j <= 420; j = j + 20) {
            outtextxy(rand() % mx, rand() % (my - 50), "/");
            delay(50);
        }
        cleardevice();
    }
    getch();
    closegraph();
    return 0;
}
